<template>
    <h2>Consumed coffee</h2>
    <p>Select a machine and a range of time to see how much coffee was produced</p>

    <div class="form-group row">
        <label for="chartMachineSelect" class="col-sm-2 col-form-label">Machine: </label>
        <div class="col-sm-4">
            <select class="form-control" 
                    id="chartMachineSelect" 
                    value.bind="selectedChartMachine" 
                    change.delegate="onSelectedChartMachineChanged(selectedChartMachine)" 
            >
                <option model.bind="null">All machines</option>
                <option repeat.for="machine of machines" model.bind="machine.id">
                ${machine.name}
                </option>
            </select>
        </div>
        <label for="chartTimeModeSelect" class="col-sm-2 col-form-label">timerange: </label>
        <div class="col-sm-4">
            <select class="form-control" 
                    id="chartTimeModeSelect" 
                    value.bind="selectedChartTimeMode" 
                    change.delegate="onSelectedChartTimeModeChange(selectedChartTimeMode)" 
            >
                <option repeat.for="mode of chartTimeModes" model.bind="mode.value">
                ${mode.text}
                </option>
            </select>
        </div>
    </div>
    <div class="alert alert-info" role="alert">
        ${consumptionMessage}<strong>${producedInSelection}</strong>
    </div>
    <div>
        <canvas ref="chartEl" style="width: 100%; height:400px;"></canvas>
    </div>
</template>
